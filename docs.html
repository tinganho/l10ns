<!DOCTYPE html>
<html>
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>L10ns Documentation</title>
<meta charset="utf-8">
<meta name="description" content="L10ns documentation">
<link rel="shortcut icon" type="image/x-icon" href="images/favicon.ico"/>
<link rel="icon" type="image/x-icon" href="images/favicon.ico"/>
<link href='http://fonts.googleapis.com/css?family=Roboto:400,300,100' rel='stylesheet' type='text/css'>
<link href="styles/normalize.css" rel="stylesheet" type="text/css">
<link href="styles/components.css" rel="stylesheet" type="text/css">
<link href="styles/docs-layout.css" rel="stylesheet" type="text/css">
<link href="styles/docs-content.css" rel="stylesheet" type="text/css">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="viewport" content="width=device-width, user-scalable=no, minimal-ui">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="L10ns | Effective translation workflow">
<meta name="twitter:description" content="CLI tool for effectively update translation keys, edit translations and open translation interface.">
<meta name="twitter:creator" content="@tingan87">
<meta name="twitter:image:src" content="http://tinganho.github.io/l10ns/images/CLIAndEditor.png">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-51369650-1', 'l10ns.org');
  ga('send', 'pageview');

</script>
</head>
<body>
  <div class="top-bar">
    <nav class="navigation-bar">
      <div class="logo-container">
        <i class="logo"></i>
      </div>
      <h1 class="logo-title">Documentation</h1>
      <a class="navigation-bar-home" href="./index.html">Home</a>
    </nav>
  </div>
  <div class="body">
    <div class="left-column">
      <nav class="side-menu">
        <ul class="side-menu-items">
          <li class="side-menu-item">
            <a class="side-menu-anchor" href="#gettingstarted">GETTING STARTED</a>
          </li>

          <li class="side-menu-item">
            <a class="side-menu-anchor" href="#messageformat">MESSAGE FORMAT</a>
          </li>

          <li class="side-menu-sub-item">
            <a class="side-menu-anchor" href="#interpolation">INTERPOLATION</a>
          </li>
          <li class="side-menu-sub-item">
            <a class="side-menu-anchor" href="#selectformat">SELECT FORMAT</a>
          </li>
          <li class="side-menu-sub-item">
            <a class="side-menu-anchor" href="#pluralformat">PLURAL FORMAT</a>
          </li>
          <li class="side-menu-sub-item">
            <a class="side-menu-anchor" href="#selectordinalformat">SELECTORDINAL FORMAT</a>
          </li>
          <li class="side-menu-sub-item">
            <a class="side-menu-anchor" href="#numberformat">NUMBER FORMAT</a>
          </li>
          <li class="side-menu-sub-item">
            <a class="side-menu-anchor" href="#numberformat">DECIMAL PATTERN</a>
          </li>
          <li class="side-menu-sub-item">
            <a class="side-menu-anchor" href="#currencyformat">CURRENCY FORMAT</a>
          </li>
        </ul>
      </nav>
    </div>
    <div class="main-column">
      <div class="text-body">

<a id="gettingstarted">
  <h1>Getting Started</h1>
</a>

<p>
This guide helps you set up a new l10ns project. We currently only support Javascript.
Though in the future you will hopefully see wider support for more programming languages.
</p>

<p>
Install l10ns:
</p>

<code>
<span class="blue">$</span> npm install l10ns -g
</code>

<p>
Create a new project folder <span class="focused">test</span> and initialize a new translation project. The initialization guide will guide you through creating a project.
</p>

<code>
<span class="blue">$</span> mkdir test<br>
<span class="blue">$</span> cd test<br>
<span class="blue">$</span> l10ns init
</code>

<p>
Now, create a source file <span class="focused">test.js</span> with (at least) the following code:
</p>

<code>
<span class="blue">var</span> requireLocalizations = require(<span class="red">'path/to/output'</span>);<br>
<span class="blue">var</span> l = requireLocalization(<span class="red">'en-US'</span>);<br>
<span class="blue">var</span> firstname = l(<span class="red">'SIGN_UP__FIRSTNAME'</span>);<br>
<span class="blue">var</span> lastname = l(<span class="red">'SIGN_UP__LASTNAME'</span>);
</code>

<p>
Now, lets update translation keys from source. It will traverse your source code and looking for all <span class="focused">l()</span> calls:
</p>

<code>
<span class="blue">$</span> l10ns update
</code>
<p>
Lets check which translation keys have been added:
</p>
<code>
<span class="blue">$</span> l10ns log<br>
<span class="yellow">@1</span> SIGN_UP__FIRSTNAME | NO TRANSLATION<br>
<span class="yellow">@2</span> SIGN_UP__LASTNAME | NO TRANSLATION<br>
</code>
<p>
Edit the last translation using log reference:
</p>
<code>
<span class="blue">$</span> l10ns set @1 "Firstname" # using default langague<br>
<span class="blue">$</span> l10ns set @1 -l zh-CN "名" # using chinese<br>
</code>

<p>
Translation are now saved to a localization file. To compile to your source programming language:
</p>

<code>
<span class="blue">$</span> l10ns compile
</code>

<p>
Lets set up a web interface for translator to use:
</p>

<code>
<span class="blue">$</span> l10ns interface
</code>

<a id="messageformat">
  <h1>Message Format</h1>
</a>

<p>
ICU(International Component for Unicode) is an organization that creates a set of classes for C/C++ and Java for internationalizing different software application. ICU is used by many well know companies such as IBM, Apple and Google. Message Format is a component in ICU for formatting messages based on different locales. Message Format consist of Select Format, Plural Format, Selectordinal Format etc. for handling genus context, pluralization and ordinal messages. The L10ns project have chosen to implement ICU's Message Format because of efficient string format. A lot of investigation and experiments have been done before choosing this syntax. And we feel very comfortable with it. We will describe a couple of syntaxes below for formatting different messages. And it would be good if you share this to your translators.
</p>

<a id="interpolation">
  <h2>Interpolation</h2>
</a>

<p>
In Message Format define interpolation variables using the syntax:
</p>

<code>
{variable}
</code>

<p>
Example of usage:
</p>

<code>
{user1} likes {user2}.
</code>

<p>
If <span class="focused">user1</span> is <span class="focused">Emma</span> and <span class="focused">user2</span> is <span class="focused">Albert</span>. The output will be:
</p>

<code>
Emma likes Albert.
</code>

<a id="selectformat">
  <h2>Select Format</h2>
</a>

<p>
Select Format is primarily used for localizing genus context based message. But it can also be used for different kind of applications other than genus context based messages. Select Format takes a variable as an argument and the translator needs to define a set of cases and corresponding values for each case. The syntax for Select Format is:
</p>

<code>
{variable, select, case-1{message-1}...case-n{message-n} other{message-other}}
</code>

<p>
And it can be used for translating messages based on genus context:
</p>

<code>
{gender, select, male{He} other{She}} likes the L10ns project.
</code>

<p>
If <span class="focused">gender</span> equals <span class="focused">male</span>. The output will be:
</p>

<code>
He likes the L10ns project.
</code>

<p>
And If <span class="focused">gender</span> equals <span class="focused">female</span>. The output will be:
</p>

<code>
She likes the L10ns project.
</code>

<a id="pluralformat">
  <h2>Plural Format</h2>
</a>

<p>
Plural Format is used for formatting messages based on different plural forms. The plural forms for each locale is defined by CLDR(Common Locale Data Repository). CLDR is a repository where many organization and companies participate for gathering locale specific data. CLDR currently defines 6 different kinds of plural forms, <span class="focused">zero</span>, <span class="focused">one</span>, <span class="focused">two</span>, <span class="focused">few</span>, <span class="focused">many</span> and <span class="focused">other</span>. Each plural form and the number of plural form may be different from locale to locale. For the English language there exists only two plural forms <span class="focused">one</span> and <span class="focused">other</span>. The Chinese language have only one plural form <span class="focused">other</span>. The Arabic language have 6 plural forms <span class="focused">zero</span>, <span class="focused">one</span>, <span class="focused">two</span>, <span class="focused">few</span>, <span class="focused">many</span> and <span class="focused">other</span>. Example numbers of each plural form will be provided if you translate your strings using the translation interface.
</p>

<code>
{variable, plural, plural-form-1{message-1}...plural-form-n{messane-n} other{message-other}}
</code>

<p>
Example usage for English:
</p>

<code>
He likes {comments, plural, one{# comment} other{# comments}}.
</code>

<p>
If <span class="focused">comments</span> equals 1. The output will be:
</p>

<code>
He likes 1 comment.
</code>

<p>
If <span class="focused">comments</span> equals 1000. The output will be:
</p>

<code>
He likes 1,000 comments.
</code>

<p>
In the above examples we use the <span class="focused">#</span> to interpolate the message with a count. The displayed count will always be formated to an integer using L10ns Number Format, thus the number separator <span class="focused">,</span>.
</p>

<p>
We can also specify exact cases. Instead of using the plural forms. Notice: the plural form <span class="focused">one</span> is a name of a plural form. It doesn't exactly means the number one. In some languages the plural form <span class="focused">one</span> includes the number zero too. You specify an exact case by <span class="focused">n=</span>. Here is an example of a Plural Format with exact cases:
</p>

<code>
There {files, plural, 0={is no files} one{is one file} other{is many files}}.
</code>

<p>
Some times we want to interpolate a message with a count with an offset using <span class="focused">offset:n</span>:
</p>

<code>
{people, plural, offset:1 =0{No one went.} =1{{user1} went.} =2{{user1} and {user2} went}.} other{{user1} and # others went}}.
</code>

<p>
If you would have translated the above message in Arabic. You might want to use more plural forms than <span class="focused">other</span>. Because the word <span class="focused">others</span> have many plural forms. As a rule of thumb, always use the exact cases before the plural form cases!
</p>

<a id="selectordinalformat">
  <h2>Selectordinal Format</h2>
</a>

<p>
Selectordinal Format is used for formating messages with different ordinal forms. CLDR defines six types of ordinal forms <span class="focused">zero</span>, <span class="focused">one</span>, <span class="focused">two</span>, <span class="focused">few</span>, <span class="focused">many</span> and <span class="focused">other</span>. Each ordinal form and the number of ordinal forms may be different from locale to locale. In the English language there exists four ordinal forms <span class="focused">one</span>, <span class="focused">two</span>, <span class="focused">few</span> and <span class="focused">other</span> for formatting messages including <span class="focused">first</span>, <span class="focused">second</span>, <span class="focused">third</span> and <span class="focused">fourth</span> etc. And the ordinal form <span class="focused">one</span> doesn't necessarily corresponds to the number one. Sometimes the ordinal form <span class="focused">one</span> might corresponds to the number 1, 2 and more, such as in the Swedish language. Same thing applies to all the ordinal forms. Example numbers of each ordinal form will be provided if you translate your strings using the translation interface.
</p>

<p>
The syntax for Selectordinal Format is:
</p>

<code>
{variable, selectordinal, ordinal-form-1{message-1} ordinal-form-n{message-n} other{message-other}}
</code>

<p>
An example usage of Selectordinal Format:
</p>

<code>
Go to the {floor, selectordinal, =0{ground} one{#st} two{#nd} few{#rd} other{#th}} floor.
</code>

<p>
The characters <span class="focused">#</span> and <span class="focused">=n</span> is used for specifying a number formated count and exact cases. And they work exactly the same as in Plural Format.
</p>

<a id="numberformat">
  <h2>Number Format</h2>
</a>

<p>
Argument in above can take the values <span class="focused">integer</span>, <span class="focused">percentage</span>, <span class="focused">permille</span> or a <span class="focused">decimal pattern</span>. A <span class="focused">decimal pattern</span> is described below.
</p>

<a id="decimalpattern">
  <h3>Decimal pattern</h3>
</a>

<p>
The characters listed here are used in non-localized patterns. Localized patterns use the corresponding characters. Two exceptions are the currency sign and quote, which are not localized.
</p>

<table class="number-symbols">
  <thead>
    <tr>
      <th>Symbol</th>
      <th>Location</th>
      <th>Localized</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0</td>
      <td>Number</td>
      <td>Yes</td>
      <td>Digit.</td>
    </tr>
    <tr>
      <td>1-9</td>
      <td>Number</td>
      <td>Yes</td>
      <td>'1' through '9' indicate rounding.</td>
    </tr>
    <tr>
      <td>@</td>
      <td>Number</td>
      <td>No</td>
      <td>Significant digit.</td>
    </tr>
    <tr>
      <td>#</td>
      <td>Number</td>
      <td>Yes</td>
      <td>Digit, zero shows as absent.</td>
    </tr>
    <tr>
      <td>.</td>
      <td>Number</td>
      <td>Yes</td>
      <td>Decimal separator or monetary decimal separator.</td>
    </tr>
    <tr>
      <td>-</td>
      <td>Number</td>
      <td>Yes</td>
      <td>Minus sign.</td>
    </tr>
    <tr>
      <td>,</td>
      <td>Number</td>
      <td>Yes</td>
      <td>Grouping separator.</td>
    </tr>
    <tr>
      <td>E</td>
      <td>Number</td>
      <td>Yes</td>
      <td>Separates mantissa and exponent in scientific notation. Need not be quoted in prefix or suffix.</td>
    </tr>
    <tr>
      <td>+</td>
      <td>Exponent</td>
      <td>Yes</td>
      <td>Prefix positive exponents with localized plus sign. Need not be quoted in prefix or suffix.</td>
    </tr>
    <tr>
      <td>;</td>
      <td>Subpattern boundary</td>
      <td>Yes</td>
      <td>Separates positive and negative subpatterns.</td>
    </tr>
    <tr>
      <td>%</td>
      <td>Prefix or suffix</td>
      <td>Yes</td>
      <td>Multiply by 100 and show as percentage.</td>
    </tr>
    <tr>
      <td>‰</td>
      <td>Prefix or suffix</td>
      <td>Yes</td>
      <td>Multiply by 1000 and show as per mille.</td>
    </tr>
    <tr>
      <td>¤</td>
      <td>Prefix or suffix</td>
      <td>No</td>
      <td>One consecutive currency symbol will be replaced with a local symbol such as <span class="focused">$</span>. Two consecutive symbols will be replaced with a global symbol such as <span class="focused">US$</span>. Three consecutive symbols will be replaced with a local text such as <span class="focused">dollars</span>. Four consecutive symbols will be replaced with a global text such as <span class="focused">US dollars</span>.</td>
    </tr>
    <tr>
      <td>'</td>
      <td>Prefix or suffix</td>
      <td>No</td>
      <td>Used to quote special characters in a prefix or suffix, for example, <span class="focused">'#'#</span> formats 123 to <span class="focused">#123</span>. To create a single quote itself, use two in a row: <span class="focused"># o''clock</span>.</td>
    </tr>
    <tr>
      <td>*</td>
      <td>Prefix or suffix boundary</td>
      <td>Yes</td>
      <td>Pad escape, precedes pad character.</td>
    </tr>
  </tbody>
</table>

<p>
A <span class="focused">decimal pattern</span> pattern contains a postive and negative subpattern, for example, <span class="focused">#,##0.00;(#,##0.00)</span>. Each subpattern has a prefix, a numeric part, and a suffix. If there is no explicit negative subpattern, the negative subpattern is the localized minus sign prefixed to the positive subpattern. That is, <span class="focused">0.00</span> alone is equivalent to <span class="focused">0.00;-0.00</span>. If there is an explicit negative subpattern, it serves only to specify the negative prefix and suffix; the number of digits, minimal digits, and other characteristics are ignored in the negative subpattern. That means that <span class="focused">#,##0.0#;(#)</span> has precisely the same result as <span class="focused">#,##0.0#;(#,##0.0#)</span>.
</p>
<p>
The grouping separator is a character that separates clusters of integer digits to make large numbers more legible. It commonly used for thousands, but in some locales it separates ten-thousands. The grouping size is the number of digits between the grouping separators, such as 3 for <span class="focused">100,000,000</span> or 4 for <span class="focused">1 0000 0000</span>. There are actually two different grouping sizes: One used for the least significant integer digits, the primary grouping size, and one used for all others, the secondary grouping size. In most locales these are the same, but sometimes they are different. For example, if the primary grouping interval is 3, and the secondary is 2, then this corresponds to the pattern <span class="focused">#,##,##0</span>, and the number 123456789 is formatted as <span class="focused">12,34,56,789</span>. If a pattern contains multiple grouping separators, the interval between the last one and the end of the integer defines the primary grouping size, and the interval between the last two defines the secondary grouping size. All others are ignored, so <span class="focused">#,##,###,####</span> == <span class="focused">###,###,####</span> == <span class="focused">##,#,###,####</span>.
</p>



<code>
pattern&nbsp;&nbsp;&nbsp;&nbsp;:= subpattern (';' subpattern)?<br>
subpattern := prefix? number exponent? suffix?<br>
number&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:= (integer ('.' fraction)?) | sigDigits<br>
prefix&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:= '\u0000'..'\uFFFD' - specialCharacters<br>
suffix&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:= '\u0000'..'\uFFFD' - specialCharacters<br>
integer&nbsp;&nbsp;&nbsp;&nbsp;:= '#'* '0'* '0'<br>
fraction&nbsp;&nbsp;&nbsp;:= '0'* '#'*<br>
sigDigits&nbsp;&nbsp;:= '#'* '@' '@'* '#'*<br>
exponent&nbsp;&nbsp;&nbsp;:= 'E' '+'? '0'* '0'<br>
padSpec&nbsp;&nbsp;&nbsp;&nbsp;:= '*' padChar<br>
padChar&nbsp;&nbsp;&nbsp;&nbsp;:= '\u0000'..'\uFFFD' - quote<br>
<br>
Notation:<br>
  X*       0 or more instances of X<br>
  X?       0 or 1 instances of X<br>
  X|Y      either X or Y<br>
  C..D     any character from C up to D, inclusive<br>
  S-T      characters in S, except those in T<br>
</code>




<a id="currencyformat">
  <h2>Currency Format</h2>
</a>

<p>
Currency Format is just a short-hand function for formating currency amounts. It is used for formating different currency formats for different locales. If you don't use any complex formatting with your currency amount use Currency Format. If you are doing any kind of complex formating with currency units involved use Number Format.
</p>

<code>
{variable, currency, context, type}
</code>

<p>
Context can take two values <span class="focused">local</span> or <span class="focused">global</span>. And type can also only takes two values <span class="focused">symbol</span> or <span class="focused">text</span>. We recommend using a <span class="focused">local</span> context if you are showing the currency amount to local people using a local language. Locale context in <span class="focused">en-US</span> will yield the symbol <span class="focused">$</span> or the text <span class="focused">dollar</span>. In all other cases use a <span class="focused">global</span> context. A global context in <span class="focused">en-US</span> and global context will yield the symbol <span class="focused">US$</span> or the text <span class="focused">US dollar</span>. For the French language, the currency symbol in a global context is usually before the region instead of after. So French people want to see <span class="focused">$US</span> instead of <span class="focused">$US</span>. For this use case we implemented a <span class="focused">reverseglobal</span> context.
</p>

<p>
Example usage for formating the currency amount $50.00 in the locale <span class="focused">en-US</span>:
</p>

<code>
{price, currency, local, symbol}
</code>

<p>
Example usage for formating the currency amount US$50.00 in the locale <span class="focused">en-US</span>:
</p>

<code>
{price, currency, global, symbol}
</code>

<p>
Example usage for formating the currency amount 50.00 dollars in the locale <span class="focused">en-US</span>:
</p>

<code>
{price, currency, local, text}
</code>

<p>
Example usage for formating the currency amount 50.00 US dollars in the locale <span class="focused">en-US</span>:
</p>

<code>
{price, currency, global, text}
</code>

<p>
Example usage for formating the currency amount $US 50.00 in the locale <span class="focused">fr-CA</span>:
</p>

<code>
{price, currency, reverseglobal, symbol}
</code>

<p>
Having the opportunity to choose between using text or symbol is especially useful in Chinese and Japanese. In the Chinese language, some websites use the currency symbol ¥, but because the character 元 is so short, it is more frequent to use the character 元 instead of the symbol ¥.
</p>

<p>
Notice 1: The default currency amounts for USD in locale <span class="focused">en-US</span> have two fraction digits and it is defined in CLDR. Some website don't want fractions because they only show integers. We recommned you to use Number Format for this use case.
</p>

<p>
Notice 2: Some website use to wrap the currency symbols with the html tags <span class="focused">&lt;sup&gt;</span> or <span class="focused">&lt;sub&gt;</span>. Use Number Format for this use case.
</p>

      </div>
    </div>
  </div>
</body>
</html>
